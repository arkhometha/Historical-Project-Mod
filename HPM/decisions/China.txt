political_decisions = {
    torching_of_the_summer_palace = {
        potential = {
            NOT = { tag = QNG }
            QNG = { owns = 1616 }
            civilized = yes
            is_greater_power = yes
            state_n_government = 1
            war_with = QNG
            NOT = { has_global_flag = summer_palace_torched }
        }
        allow = {
            controls = 1616
        }
        effect = {
            set_global_flag = summer_palace_torched
            badboy = 3
            QNG = { country_event = 13355 }
        }
    }

    clear_out_the_manchu_elite = {
        picture = clear_out_the_manchu_elite
        potential = {
            tag = QNG
            government = absolute_monarchy
            is_greater_power = no
            civilized = no
            has_global_flag = taiping_has_happened
            NOT = { has_country_flag = manchu_elite_cleared_out }
        }

        allow = { average_consciousness = 3 }

        effect = {
            years_of_research = 0.1
            add_accepted_culture = beifaren
            any_pop = {
                limit = { has_pop_culture = manchu }
                militancy = 2
                consciousness = 1
            }
            any_pop = {
                limit = {
                    NOT = { has_pop_culture = manchu }
                }
                militancy = -2
                consciousness = -1
            }
            set_country_flag = manchu_elite_cleared_out
        }
    }

    form_china = {
        potential = {
            tag = QNG
            NOT = { has_global_flag = china_formed }
            NOT = { has_country_flag = post_colonial_country }
        }

        allow = {
            war = no
            owns = 1616
            NOT = {
                government = absolute_monarchy
                government = prussian_constitutionalism
                government = hms_government
            }
            NOT = { has_country_flag = mandate }
            TPG = { exists = no }
        }

        effect = {
            prestige = 20
            all_core = { remove_core = QNG }
            change_tag = CHI
            primary_culture = beifaren
            add_accepted_culture = nanfaren
            random_country = {
                limit = {
                    tag = TIB
                    vassal_of = THIS
                }
                THIS = { release_vassal = TIB }
            }
            random_owned = {
                limit = {
                    province_id = 1587
                    NOT = { exists = TIB }
                }
                owner = {
                    any_owned = {
                        limit = {
                            region = TIB_1591
                        }
                        secede_province = TIB
                    }
                }
            }
            random_country = {
                limit = {
                    tag = MGL
                    vassal_of = THIS
                }
                THIS = { release_vassal = MGL }
            }
            random_owned = {
                limit = {
                    province_id = 1465
                    NOT = { exists = MGL }
                }
                owner = {
                    any_owned = {
                        limit = {
                            is_core = MGL
                            NOT = { region = CHI_1532 }
                        }
                        secede_province = MGL
                    }
                }
            }
            CHI_1468 = { remove_core = CHI }
            CHI_1465 = { remove_core = CHI }
            random_owned = { limit = { region = CHI_1082 } CHI_1082 = { add_core = MCK } }
            CHI_1479 = { add_core = MCK }
            CHI_1552 = { add_core = MCK }
            1533 = { add_core = MCK }
        }

        ai_will_do = { factor = 1 }
    }

    abandon_neutral_faction = {
        picture = abandon_faction
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = neutral_faction
            NOT = {
                tag = CHI
                tag = KMT
                tag = TPG
                tag = QNG
            }
        }

        allow = {
            war = no
            OR = {
                any_owned_province = {
                    is_core = CHI
                    NOT = { is_core = THIS }
                }
                is_greater_power = yes
                is_secondary_power = yes
            }
        }

        effect = {
            clr_country_flag = neutral_faction
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = reactionary
                            ruling_party_ideology = fascist
                        }
                    }
                }
                owner = {
                    set_country_flag = beiyang_faction
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        ruling_party_ideology = communist
                    }
                }
                owner = {
                    set_country_flag = communist_faction
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = conservative
                            ruling_party_ideology = liberal
                            ruling_party_ideology = anarcho_liberal
                            ruling_party_ideology = socialist
                        }
                    }
                }
                owner = {
                    set_country_flag = kuomintang_faction
                }
            }
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { tag = THIS }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    abandon_kuomintang_faction = {
        picture = abandon_faction
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = kuomintang_faction
            NOT = {
                tag = CHI
                tag = KMT
                tag = TPG
                tag = QNG
            }
        }

        allow = {
            war = no
            OR = {
                ruling_party_ideology = reactionary
                ruling_party_ideology = fascist
                ruling_party_ideology = communist
            }
        }

        effect = {
            clr_country_flag = kuomintang_faction
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = reactionary
                            ruling_party_ideology = fascist
                        }
                    }
                }
                owner = {
                    set_country_flag = beiyang_faction
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        ruling_party_ideology = communist
                    }
                }
                owner = {
                    set_country_flag = communist_faction
                }
            }
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { tag = THIS }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    abandon_communist_faction = {
        picture = abandon_faction
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = communist_faction
            NOT = {
                tag = CHI
                tag = KMT
                tag = TPG
                tag = QNG
            }
        }

        allow = {
            war = no
            NOT = {
                ruling_party_ideology = communist
            }
        }

        effect = {
            clr_country_flag = communist_faction
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = reactionary
                            ruling_party_ideology = fascist
                        }
                    }
                }
                owner = {
                    set_country_flag = beiyang_faction
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = conservative
                            ruling_party_ideology = liberal
                            ruling_party_ideology = anarcho_liberal
                            ruling_party_ideology = socialist
                        }
                    }
                }
                owner = {
                    set_country_flag = kuomintang_faction
                }
            }
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { tag = THIS }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    abandon_beiyang_faction = {
        picture = abandon_faction
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = beiyang_faction
            NOT = {
                tag = CHI
                tag = KMT
                tag = TPG
                tag = QNG
            }
        }

        allow = {
            war = no
            NOT = { ruling_party_ideology = reactionary }
            NOT = { ruling_party_ideology = fascist }
        }

        effect = {
            clr_country_flag = beiyang_faction
            random_owned = {
                limit = {
                    owner = {
                        ruling_party_ideology = communist
                    }
                }
                owner = {
                    set_country_flag = communist_faction
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        OR = {
                            ruling_party_ideology = conservative
                            ruling_party_ideology = liberal
                            ruling_party_ideology = anarcho_liberal
                            ruling_party_ideology = socialist
                        }
                    }
                }
                owner = {
                    set_country_flag = kuomintang_faction
                }
            }
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { tag = THIS }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    become_leader_of_kuomintang = {
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = kuomintang_faction
            NOT = { tag = KMT }
            KMT = { exists = no }
        }

        allow = {
            war = no
            NOT = { has_country_modifier = drive_to_reunify }
            OR = {
                any_owned_province = {
                    is_core = CHI
                    NOT = { is_core = THIS }
                }
                owns = 1493
                owns = 1616
            }
        }

        effect = {
            prestige = 10
            all_core = { add_core = KMT }
            any_pop = {
                scaled_militancy = {
                    ideology = liberal
                    factor = -4
                }
                scaled_militancy = {
                    ideology = conservative
                    factor = -4
                }
            }
            change_tag = KMT
            set_country_flag = center_of_the_kuomintang
            add_accepted_culture = nanfaren
            add_accepted_culture = beifaren
            add_country_modifier = {
                name = taiping_draft
                duration = 120
            }
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { has_country_flag = kuomintang_faction }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    become_leader_of_beiyang = {
    picture = become_leader_of_beiyang
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = beiyang_faction
            CHI = { exists = no }
            NOT = { tag = CHI }
        }

        allow = {
            war = no
            owns = 1616
        }

        effect = {
            prestige = 10
            any_pop = {
                scaled_militancy = {
                    ideology = reactionary
                    factor = -6
                }
            }
            change_tag = CHI
            set_country_flag = center_of_the_beiyang
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    become_leader_of_communists = {
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = communist_faction
            CHI = { exists = no }
            NOT = { tag = CHI }
        }

        allow = {
            war = no
            owns = 1616
        }

        effect = {
            prestige = 10
            any_pop = {
                scaled_militancy = {
                    ideology = communist
                    factor = -6
                }
            }
            change_tag = CHI
            set_country_flag = center_of_the_communists
            any_country = {
                limit = {
                    is_culture_group = east_asian
                    NOT = { tag = LAN }
                    NOT = { has_country_flag = communist_faction }
                }
                relation = { who = THIS value = -100 }
                leave_alliance = THIS
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    join_the_KMT = {
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            has_global_flag = warlord_era_has_begun
            has_country_flag = kuomintang_faction
            NOT = { tag = KMT }
            ai = yes
        }

        allow = {
            owns = 1616
            KMT = { exists = yes }
        }

        effect = {
            KMT = {
                prestige = 5
                country_event = 131741
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    reunification_of_china_KMT = {
        picture = become_leader_of_kuomintang
        potential = {
            tag = KMT
            has_global_flag = warlord_era_has_begun
        }

        allow = {
            war = no
            owns = 1616
            CHI = {
                OR = {
                    exists = no
                    in_sphere = THIS
                }
            }
            FJN = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GMJ = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GNG = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GXI = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            HNN = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            HUI = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            MCK = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            SXI = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            SZC = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            TPG = {
                OR = {
                    exists = no
                    in_sphere = THIS
                }
            }
            XBI = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            YNN = {
                OR = {
                    exists = no
                    has_country_flag = kuomintang_faction
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
        }

        effect = {
            clr_global_flag = warlord_era_has_begun
            capital = 1616
            prestige = 20
            add_accepted_culture = beifaren
            add_accepted_culture = nanfaren
            add_accepted_culture = manchu
            add_accepted_culture = hakka
            add_accepted_culture = miao
            add_accepted_culture = min
            add_accepted_culture = zhuang
            add_accepted_culture = yue
            add_accepted_culture = yi
            CHI = {
                all_core = { add_core = KMT }
            }
            random_owned = {
                limit = {
                    is_core = SXI
                    SXI = { exists = no }
                }
                SXI = { all_core = { remove_core = SXI } }
            }
            random_owned = {
                limit = {
                    is_core = HUI
                    HUI = { exists = no }
                }
                HUI = { all_core = { remove_core = HUI } }
            }
            random_owned = {
                limit = {
                    is_core = SZC
                    SZC = { exists = no }
                }
                SZC = { all_core = { remove_core = SZC } }
            }
            random_owned = {
                limit = {
                    is_core = XIN
                    XIN = { exists = no }
                }
                XIN = { all_core = { remove_core = XIN } }
            }
            random_owned = {
                limit = {
                    is_core = HNN
                    HNN = { exists = no }
                }
                HNN = { all_core = { remove_core = HNN } }
            }
            random_country = {
                limit = {
                    tag = CHI
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            random_country = {
                limit = {
                    tag = TPG
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            any_country = {
                limit = {
                    exists = yes
                    OR = {
                        has_country_flag = kuomintang_faction
                        has_country_flag = neutral_faction
                        has_country_flag = beiyang_faction
                    }
                    OR = {
                        is_vassal = no
                        vassal_of = THIS
                    }
                    NOT = { tag = THIS }
                }
                country_event = 131745
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    reunification_of_china_communist = {
        picture = become_leader_of_communists
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            NOT = { tag = KMT }
            has_country_flag = communist_faction
            has_global_flag = warlord_era_has_begun
        }

        allow = {
            war = no
            owns = 1616
            CHI = {
                OR = {
                    tag = THIS
                    exists = no
                }
            }
            KMT = {
                OR = {
                    in_sphere = THIS
                    exists = no
                    has_global_flag = kmt_has_lost
                }
            }
            TPG = {
                OR = {
                    in_sphere = THIS
                    exists = no
                }
            }
            FJN = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            GMJ = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            GNG = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            GXI = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            HNN = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            HUI = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            MCK = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            SXI = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            SZC = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            XBI = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
            YNN = {
                OR = {
                    exists = no
                    has_country_flag = neutral_faction
                    has_country_flag = communist_faction
                    in_sphere = THIS
                }
            }
        }

        effect = {
            clr_global_flag = warlord_era_has_begun
            add_accepted_culture = beifaren
            add_accepted_culture = nanfaren
            add_accepted_culture = manchu
            add_accepted_culture = hakka
            add_accepted_culture = miao
            add_accepted_culture = min
            add_accepted_culture = zhuang
            add_accepted_culture = yue
            add_accepted_culture = yi
            prestige = 20
            capital = 1616
            random_owned = {
                limit = {
                    is_core = SXI
                    SXI = { exists = no }
                }
                SXI = { all_core = { remove_core = SXI } }
            }
            random_owned = {
                limit = {
                    is_core = HUI
                    HUI = { exists = no }
                }
                HUI = { all_core = { remove_core = HUI } }
            }
            random_owned = {
                limit = {
                    is_core = SZC
                    SZC = { exists = no }
                }
                SZC = { all_core = { remove_core = SZC } }
            }
            random_owned = {
                limit = {
                    is_core = XIN
                    XIN = { exists = no }
                }
                XIN = { all_core = { remove_core = XIN } }
            }
            random_owned = {
                limit = {
                    is_core = HNN
                    HNN = { exists = no }
                }
                HNN = { all_core = { remove_core = HNN } }
            }
            random_country = {
                limit = {
                    tag = KMT
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            random_country = {
                limit = {
                    tag = TPG
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            random_owned = {
                limit = {
                    owner = {
                        NOT = { tag = CHI }
                    }
                }
                owner = {
                    all_core = { remove_core = THIS }
                    change_tag = CHI
                    primary_culture = beifaren
                    add_accepted_culture = nanfaren
                }
            }
            any_country = {
                limit = {
                    exists = yes
                    OR = {
                        has_country_flag = neutral_faction
                        has_country_flag = communist_faction
                    }
                    OR = {
                        is_vassal = no
                        vassal_of = THIS
                    }
                    NOT = { tag = THIS }
                }
                country_event = 131745
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    reunification_of_china = {
        picture = form_china
        potential = {
            is_culture_group = east_asian
            NOT = { tag = LAN }
            NOT = { tag = KMT }
            NOT = { has_country_flag = communist_faction }
            OR = {
                tag = CHI
                NOT = { has_country_flag = beiyang_faction }
            }
            has_global_flag = warlord_era_has_begun
        }

        allow = {
            war = no
            owns = 1616
            OR = {
                KMT = { exists = no }
                has_global_flag = kmt_has_lost
            }
            CHI = {
                OR = {
                    exists = no
                    tag = THIS
                    in_sphere = THIS
                }
            }
            FJN = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GMJ = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GNG = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            GXI = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            HNN = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            HUI = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            MCK = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            SXI = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            SZC = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            TPG = {
                OR = {
                    exists = no
                    tag = THIS
                    in_sphere = THIS
                }
            }
            XBI = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
            YNN = {
                OR = {
                    exists = no
                    tag = THIS
                    has_country_flag = neutral_faction
                    in_sphere = THIS
                }
            }
        }

        effect = {
            clr_global_flag = warlord_era_has_begun
            add_accepted_culture = beifaren
            add_accepted_culture = nanfaren
            add_accepted_culture = manchu
            add_accepted_culture = hakka
            add_accepted_culture = miao
            add_accepted_culture = min
            add_accepted_culture = zhuang
            add_accepted_culture = yue
            add_accepted_culture = yi
            prestige = 20
            capital = 1616
            random_owned = {
                limit = {
                    is_core = SXI
                    SXI = { exists = no }
                }
                SXI = { all_core = { remove_core = SXI } }
            }
            random_owned = {
                limit = {
                    is_core = HUI
                    HUI = { exists = no }
                }
                HUI = { all_core = { remove_core = HUI } }
            }
            random_owned = {
                limit = {
                    is_core = SZC
                    SZC = { exists = no }
                }
                SZC = { all_core = { remove_core = SZC } }
            }
            random_owned = {
                limit = {
                    is_core = XIN
                    XIN = { exists = no }
                }
                XIN = { all_core = { remove_core = XIN } }
            }
            random_owned = {
                limit = {
                    is_core = HNN
                    HNN = { exists = no }
                }
                HNN = { all_core = { remove_core = HNN } }
            }
            random_country = {
                limit = {
                    tag = CHI
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            random_country = {
                limit = {
                    tag = TPG
                    ai = yes
                    exists = yes
                    in_sphere = THIS
                }
                annex_to = THIS
            }
            random_owned = {
                limit = {
                    owner = {
                        NOT = { tag = TPG }
                        NOT = { tag = CHI }
                        NOT = { has_country_flag = kuomintang_faction }
                    }
                }
                owner = {
                    all_core = { remove_core = THIS }
                    change_tag = CHI
                    primary_culture = beifaren
                    add_accepted_culture = nanfaren
                }
            }
            random_owned = {
                limit = {
                    owner = {
                        NOT = { tag = TPG }
                        NOT = { tag = CHI }
                        has_country_flag = kuomintang_faction
                    }
                }
                CHI = {
                    all_core = { add_core = KMT }
                }
                owner = {
                    all_core = { remove_core = THIS }
                    change_tag = KMT
                    primary_culture = nanfaren
                    add_accepted_culture = beifaren
                }
            }
            random_owned = {
                limit = {
                    owner = { tag = TPG }
                }
                CHI = {
                    all_core = { add_core = TPG }
                }
            }
            any_country = {
                limit = {
                    exists = yes
                    OR = {
                        has_country_flag = kuomintang_faction
                        has_country_flag = neutral_faction
                        has_country_flag = beiyang_faction
                    }
                    OR = {
                        is_vassal = no
                        vassal_of = THIS
                    }
                    NOT = { tag = THIS }
                }
                country_event = 131745
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    self_strengthening_movement = {
    picture = self_strengthening_movement
        potential = {
            OR = {
                AND = {
                    tag = QNG
                    NOT = { exists = TPG }
                }
                AND = {
                    tag = TPG
                    NOT = { exists = QNG }
                }
            }
            civilized = no
            NOT = { has_country_modifier = self_strengthening_movement }
            has_global_flag = taiping_has_happened
        }

        allow = {
            war = no
            civilization_progress = 0.5
            OR = {
                NOT = { prestige = 25 }
                has_recently_lost_war = yes
                NOT = { money = 10000 }
            }
        }

        effect = {
            random_owned = {
                limit = {
                    owner = { ai = no }
                }
                owner = { treasury = 250000 }
            }
            add_country_modifier = {
                name = self_strengthening_movement
                duration = 1825
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    annex_the_kumul = {
    picture = self_strengthening_movement
        potential = {
            NOT = { has_global_flag = kumul_over }
            neighbour = KML
            NOT = { tag = LAN }
            NOT = { tag = MGL }
            OR = {
                civilized = yes
                AND = {
                    tag = UYG
                    KML = { is_vassal = no }
                }
            }
            KML = {
                exists = yes
                ai = yes
                is_vassal = no
            }
            OR = {
                tag = XIN
                tag = UYG
                neighbour = KML
                AND = {
                    OR = {
                        XIN = { exists = no }
                        XIN = { exists = yes NOT = { neighbour = KML } }
                        }
                    neighbour = KML
                    is_culture_group = east_asian
                    }
                }
            }

        allow = {
            war = no
        }

        effect = {
            set_global_flag = kumul_over
            badboy = 2
            inherit = KML
        }

        ai_will_do = { factor = 1 }
    }

    claim_tibet = {
    picture = tibet_capital
        potential = {
            OR = {
                tag = CHI
                tag = TPG
            }
            neighbour = TIB
            NOT = { is_our_vassal = TIB }
            NOT = { 1587 = { is_core = CHI } }
        }

        allow = {
            war = no
            nationalism_n_imperialism = 1
            OR = {
                war_policy = jingoism
                government = fascist_dictatorship
                government = proletarian_dictatorship
                government = presidential_dictatorship
                government = bourgeois_dictatorship
            }
        }

        effect = {
            TIB = { all_core = { add_core = CHI add_core = THIS } }
            badboy = 2
        }

        ai_will_do = { factor = 1 }
    }

    heavenly_capital = {
    picture = heavenly_seal
        potential = {
            tag = TPG
            NOT = { has_global_flag = heavenly_capital_decreted }
        }

        allow = {
            owns = 2221
        }

        effect = {
            prestige = 1
            set_global_flag = heavenly_capital_decreted
            2221 = { change_province_name = "Tianjing" }
            capital = 2221
        }

        ai_will_do = { factor = 1 }
    }

    abolish_heavenly_capital = {
    picture = heavenly_seal
        potential = {
            NOT = { tag = TPG }
            NOT = { tag = LAN }
            is_culture_group = east_asian
            has_global_flag = heavenly_capital_decreted
        }

        allow = {
            owns = 2221
        }

        effect = {
            clr_global_flag = heavenly_capital_decreted
            2221 = { change_province_name = "Nanjing" }
        }

        ai_will_do = { factor = 1 }
    }

    claim_sakhalin_china = {
    picture = map_yellow_sea
        potential = {
            OR = {
                tag = TPG
                tag = QNG
                tag = CHI
            }
            1086 = { NOT = { is_core = THIS } }
            owns = 1502
            owns = 1616
            owns = 1601
            owns = 1554
            owns = 1493
            owns = 1553
            owns = 1556
            owns = 1594
            owns = 1600
            owns = 1599
            owns = 1532
            owns = 1519
            owns = 1483
            owns = 2221
            owns = 1509
            NOT = { has_global_flag = sakhalin_claimed_chinese }
            NOT = { owns = 1086 }
            NOT = { owns = 1087 }
            civilized = yes
        }

        allow = {
            is_greater_power = yes
            nationalism_n_imperialism = 1
            THIS = { all_core = { owned_by = THIS } }
            owns = 1496
            war = no
        }

        effect = {
            set_global_flag = sakhalin_claimed_chinese
            badboy = 5
            1086 = { add_core = THIS }
            1087 = { add_core = THIS }
            CHI_1082 = { add_core = THIS }
            1086 = { add_core = CHI }
            1087 = { add_core = CHI }
            CHI_1082 = { add_core = CHI }
            1086 = { owner = { relation = { who = THIS value = -200 } } }
            1087 = { owner = { relation = { who = THIS value = -200 } } }
        }

        ai_will_do = {
            factor = 1
            modifier = {
                factor = 0
                badboy = 0.8
            }
        }
    }

    formosa_independence = {
    picture = form_china
        potential = {
            tag = TAI
            exists = yes
            OR = {
                2681 = { is_core = CHI }
                2681 = { is_core = KMT }
                2681 = { is_core = QNG }
                2681 = { is_core = TPG }
            }
            has_global_flag = retreated_to_taiwan
        }

        allow = {
            nationalism_n_imperialism = 1
            TAI = { all_core = { owned_by = THIS } }
            war = no
            OR = {
                truce_with = CHI
                truce_with = QNG
                truce_with = TPG
            }
        }

        effect = {
            TAI = { all_core = { remove_core = QNG remove_core = CHI remove_core = TPG remove_core = FJN } }
        }

        ai_will_do = { factor = 1 }
    }

    revoke_sino_portuguese_treaty = {
    picture = macao_city
        potential = {
            OR = {
                QNG = { exists = yes owns = 1616 NOT = { TPG = { exists = yes } CHI = { exists = yes } } }
                TPG = { exists = yes owns = 1616 NOT = { QNG = { exists = yes } CHI = { exists = yes } } }
                CHI = { exists = yes owns = 1616 NOT = { TPG = { exists = yes } QNG = { exists = yes } } }
            }
            OR = {
                tag = QNG
                tag = TPG
                tag = CHI
            }
            has_global_flag = sino_portuguese_treaty_of_peking_signed
            1498 = { NOT = { is_core = CHI } }
            NOT = { has_global_flag = sino_portuguese_treaty_of_peking_revoked }
        }

        allow = {
            any_owned_province = { any_neighbor_province = { province_id = 1498 } }
            OR = {
                government = fascist_dictatorship
                government = proletarian_dictatorship
                government = bourgeois_dictatorship
                1498 = { owner = { NOT = { has_country_flag = sino_portuguese_treaty_of_peking_signataire } } }
            }
        }

        effect = {
            set_global_flag = sino_portuguese_treaty_of_peking_revoked
            clr_global_flag = sino_portuguese_treaty_of_peking_signed
            any_country = { clr_country_flag = sino_portuguese_treaty_of_peking_signataire }
            1498 = { add_core = CHI }
            random_country = { limit = { owns = 1498 NOT = { tag = THIS } } country_event = 90908 }
            random_owned = {
                limit = {
                    owner = {
                    NOT = { owns = 1498 }
                    OR = {
                        government = fascist_dictatorship
                        government = proletarian_dictatorship
                        government = bourgeois_dictatorship
                        }
                    }
                }
                owner = { badboy = 4 }
            }
        }

        ai_will_do = { factor = 1 }
    }

    abolish_forced_work = { #Revise
    alert = no
    picture = form_china
        potential = {
            is_culture_group = east_asian
            year = 1910
            NOT = { has_country_flag = abolish_forced_work }
            OR = {
                NOT = { slavery = no_slavery }
                debt_law = serfdom
            }
        }

        allow = {
            war = no
            is_vassal = no
        }

        effect = {
            set_country_flag = abolish_forced_work
            any_pop = { militancy = 2 consciousness = 4 }
            random_owned = { limit = { owner = { NOT = { slavery = no_slavery } } } owner = { political_reform = no_slavery } }
            random_owned = { limit = { owner = { debt_law = serfdom } } owner = { political_reform = peonage country_event = 6016804 } }
        }

        ai_will_do = { factor = 1 }
    }

    claim_tsushima = { #Move to its own file later
    picture = tsushima_japan
        potential = {
            tag = KOR
            civilized = yes
            OR = {
                NOT = {
                    owns = 2589
                    has_country_flag = korean_irredentism
                }
                AND = {
                    owns = 2589
                    NOT = { has_country_flag = tsushima_renamed }
                }
            }
        }

        allow = {
            war = no
            is_disarmed = no
            is_greater_power = yes
            nationalism_n_imperialism = 1
            OR = {
                war_policy = jingoism
                war_policy = pro_military
            }
            OR = {
                government = absolute_monarchy
                government = prussian_constitutionalism
                government = hms_government
                government = fascist_dictatorship
            }
        }

        effect = {
            random_owned = {
                limit = {
                    owner = { NOT = { has_country_flag = korean_irredentism } }
                }
                owner = {
                    badboy = 2
                    2589 = { add_core = KOR }
                }
            }
            set_country_flag = korean_irredentism
            prestige = 3
            random_owned = {
                limit = { province_id = 2589 }
                change_province_name = "Daemado"
                owner = { set_country_flag = tsushima_renamed }
            }
        }

        ai_will_do = { factor = 1 }
    }
	
	substate_adopt_tech = {
        picture = form_china
        potential = {
			civilized = no
           OR = {
				tag = QNG
				tag = CHI
				tag = TPG
			}
			any_neighbor_country = { 
				civilized = no
				substate_of = THIS
				OR = {
					###Military Reforms
					AND = {
						overlord = { foreign_training = yes_foreign_training }
						NOT = { foreign_training = yes_foreign_training }
					}
					AND = {
						overlord = { foreign_weapons = yes_foreign_weapons }
						NOT = { foreign_weapons = yes_foreign_weapons }
					}
					AND = {
						overlord = { military_constructions = yes_military_constructions }
						NOT = { military_constructions = yes_military_constructions }
					}
					AND = {
						overlord = { foreign_officers = yes_foreign_officers }
						NOT = { foreign_officers = yes_foreign_officers }
					}
					AND = {
						overlord = { army_schools = yes_army_schools }
						NOT = { army_schools = yes_army_schools }
					}
					AND = {
						overlord = { foreign_naval_officers = yes_foreign_naval_officers }
						NOT = { foreign_naval_officers = yes_foreign_naval_officers }
					}
					AND = {
						overlord = { naval_schools = yes_naval_schools }
						NOT = { naval_schools = yes_naval_schools }
					}
					AND = {
						overlord = { foreign_navies = yes_foreign_navies }
						NOT = { foreign_navies = yes_foreign_navies }
					}
					AND = {
						overlord = { western_shipyards = yes_western_shipyards }
						NOT = { western_shipyards = yes_western_shipyards }
					}
					AND = {
						overlord = { foreign_artillery = yes_foreign_artillery }
						NOT = { foreign_artillery = yes_foreign_artillery }
					}
					###Economical Reforms
					AND = {
						overlord = { industrial_construction = yes_industrial_construction }
						NOT = { industrial_construction = yes_industrial_construction }
					}
					AND = {
						overlord = { pre_indust = yes_pre_indust }
						NOT = { pre_indust = yes_pre_indust }
					}
					AND = {
						overlord = { firearms_production = yes_firearms_production }
						NOT = { firearms_production = yes_firearms_production }
					}
					AND = {
						overlord = { transport_improv = yes_transport_improv }
						NOT = { transport_improv = yes_transport_improv }
					}
					AND = {
						overlord = { research_reform = yes_research_reform }
						NOT = { research_reform = yes_research_reform }
					}
					AND = {
						overlord = { education_reform = yes_education_reform }
						NOT = { education_reform = yes_education_reform }
					}
					AND = {
						overlord = { monetary_reform = monetary_reform_two }
						NOT = { monetary_reform = monetary_reform_two }
					}
					AND = {
						overlord = { monetary_reform = yes_monetary_reform }
						NOT = { monetary_reform = yes_monetary_reform }
					}
					AND = {
						overlord = { finance_reform = finance_reform_two }
						NOT = { finance_reform = finance_reform_two }
					}
					AND = {
						overlord = { finance_reform = yes_finance_reform }
						NOT = { finance_reform = yes_finance_reform }
					}
					AND = {
						overlord = { admin_reform = yes_admin_reform }
						NOT = { admin_reform = yes_admin_reform }
					}
					AND = {
						overlord = { land_reform = yes_land_reform }
						NOT = { land_reform = yes_land_reform }
					}
				}
			}
        }

        allow = {
			NOT = { civilization_progress = 0.75 }
        }

        effect = {
			random_owned = {
				limit = {
					owner = {
						land_reform = yes_land_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { land_reform = yes_land_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { land_reform = yes_land_reform }
						}
						economic_reform = yes_land_reform
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						admin_reform = yes_admin_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { admin_reform = yes_admin_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { admin_reform = yes_admin_reform }
						}
						economic_reform = yes_admin_reform
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						finance_reform = yes_finance_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { finance_reform = yes_finance_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { finance_reform = yes_finance_reform }
						}
						economic_reform = yes_finance_reform
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						finance_reform = finance_reform_two
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { finance_reform = finance_reform_two }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { finance_reform = finance_reform_two }
						}
						economic_reform = finance_reform_two
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						monetary_reform = yes_monetary_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { monetary_reform = yes_monetary_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { monetary_reform = yes_monetary_reform }
						}
						economic_reform = yes_monetary_reform
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						monetary_reform = monetary_reform_two
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { monetary_reform = monetary_reform_two }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { monetary_reform = monetary_reform_two }
						}
						economic_reform = monetary_reform_two
						activate_technology = no_standard
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						education_reform = yes_education_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { education_reform = yes_education_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { education_reform = yes_education_reform }
						}
						economic_reform = yes_education_reform
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						research_reform = yes_research_reform
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { research_reform = yes_research_reform }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { research_reform = yes_research_reform }
						}
						economic_reform = yes_research_reform
						activate_technology = late_enlightenment_philosophy
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						transport_improv = yes_transport_improv
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { transport_improv = yes_transport_improv }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { transport_improv = yes_transport_improv }
						}
						economic_reform = yes_transport_improv
						set_country_flag = activate_experimental_railroad
						activate_technology = experimental_railroad

						build_railway_in_capital = {
							in_whole_capital_state = yes # no = just in main capital province.
							limit_to_world_greatest_level = yes
						}
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						firearms_production = yes_firearms_production
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { firearms_production = yes_firearms_production }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { firearms_production = yes_firearms_production }
						}
						economic_reform = yes_firearms_production
						activate_technology = guild_based_production
						build_factory_in_capital_state = small_arms_factory
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						pre_indust = yes_pre_indust
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { pre_indust = yes_pre_indust }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { pre_indust = yes_pre_indust }
						}
						economic_reform = yes_pre_indust
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						industrial_construction = yes_industrial_construction
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { industrial_construction = yes_industrial_construction }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { industrial_construction = yes_industrial_construction }
						}
						economic_reform = yes_industrial_construction
						activate_technology = piston_steam_engine
						build_factory_in_capital_state = fabric_factory
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_artillery = yes_foreign_artillery
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_artillery = yes_foreign_artillery }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_artillery = yes_foreign_artillery }
						}
						military_reform = yes_foreign_artillery
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						western_shipyards = yes_western_shipyards
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { western_shipyards = yes_western_shipyards }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { western_shipyards = yes_western_shipyards }
						}
						military_reform = yes_western_shipyards
						activate_technology = post_nelsonian_thought
						set_country_flag = using_foreign_shipyards
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_navies = yes_foreign_navies
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_navies = yes_foreign_navies }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_navies = yes_foreign_navies }
						}
						military_reform = yes_foreign_navies
						activate_technology = clipper_design
						activate_technology = steamers
						set_country_flag = using_foreign_ships
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						naval_schools = yes_naval_schools
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { naval_schools = yes_naval_schools }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { naval_schools = yes_naval_schools }
						}
						military_reform = yes_naval_schools
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_naval_officers = yes_foreign_naval_officers
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_naval_officers = yes_foreign_naval_officers }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_naval_officers = yes_foreign_naval_officers }
						}
						military_reform = yes_foreign_naval_officers
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						army_schools = yes_army_schools
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { army_schools = yes_army_schools }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { army_schools = yes_army_schools }
						}
						military_reform = yes_army_schools
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_officers = yes_foreign_officers
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_officers = yes_foreign_officers }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_officers = yes_foreign_officers }
						}
						military_reform = yes_foreign_officers
						activate_technology = military_staff_system
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						military_constructions = yes_military_constructions
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { military_constructions = yes_military_constructions }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { military_constructions = yes_military_constructions }
						}
						military_reform = yes_military_constructions
						activate_technology = post_napoleonic_thought
						build_fort_in_capital = {
							in_whole_capital_state = no # no = just in main capital province.
							limit_to_world_greatest_level = yes
						}
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_weapons = yes_foreign_weapons
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_weapons = yes_foreign_weapons }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_weapons = yes_foreign_weapons }
						}
						military_reform = yes_foreign_weapons
						activate_technology = flintlock_rifles
						set_country_flag = using_foreign_weapons
					}
				}
			}
			
			random_owned = {
				limit = {
					owner = {
						foreign_training = yes_foreign_training
						any_neighbor_country = { 
							civilized = no
							substate_of = THIS
							NOT = { foreign_training = yes_foreign_training }
						}
					}
				}
				owner = {
					any_country = {
						limit = {
							substate_of = THIS
							NOT = { foreign_training = yes_foreign_training }
						}
						military_reform = yes_foreign_training
						activate_technology = bronze_muzzle_loaded_artillery
						set_country_flag = using_foreign_artillery
					}
				}
			}
			
        }

        ai_will_do = { factor = 1 }
	}
}
